OSS (Node.js)にファイルをアップロードこのセクションでは、次の3つの機能が必要です。

バケットの作成バケットとオブジェクトのリスト(ファイル)オブジェクトのアップロード(ファイル) routes/oss.js次のコンテンツを含むroutes/oss.jsファイルを作成します。

routes/oss.js

jsTreeをサポートする予定であるため、GET /api/forge/oss/bucketsエンドポイントはIDクエリー文字列パラメータを処理し、IDが#に設定されている場合はすべてのバケットを返し、id=bucketKeyとして渡された指定のbucketKey内のすべてのオブジェクトを返す必要があります。アップロードの終点では、マルチモジュールを使用してファイルのアップロードを処理します。この場合、ファイルはサーバに保存されるため(/uploads/フォルダなど)、後でForgeにアップロードすることができます。

このルータのミドルウェアとして、routes/common/oauth.jsの認証ヘルパーを再利用する方法に注意してください。

!>クライアント(ブラウザ)からAutodesk Forgeに直接ファイルをアップロードすることはできますが、クライアントに書き込み可能なアクセストークン(SECUREではない)を指定する必要があります。

次へ:ファイルを変換する
